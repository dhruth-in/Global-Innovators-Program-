<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global Innovators Program</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            color: white;
            background: #000;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            background: #000;
            min-height: 100vh;
        }

        header {
            background: #111;
            color: white;
            padding: 1rem 0;
            box-shadow: 0 2px 10px rgba(255, 20, 147, 0.3);
            border-bottom: 2px solid #ff1493;
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: #ff1493;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
            align-items: center;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .nav-links a:hover {
            background: #ff1493;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 20, 147, 0.4);
        }

        .nav-links a.active {
            background: #ff1493;
        }

        .auth-section {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .user-info {
            color: #ff1493;
            font-size: 0.9rem;
        }

        .auth-btn {
            background: transparent;
            color: white;
            border: 1px solid #ff1493;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .auth-btn:hover {
            background: #ff1493;
        }

        .page {
            display: none;
            padding: 2rem 0;
        }

        .page.active {
            display: block;
        }

        h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: #ff1493;
            text-align: center;
        }

        h2 {
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
            color: #ff1493;
            text-align: center;
        }

        .hero {
            text-align: center;
            padding: 4rem 0;
            background: rgba(255, 20, 147, 0.1);
            border-radius: 20px;
            margin: 2rem 0;
            border: 1px solid rgba(255, 20, 147, 0.3);
        }

        .hero p {
            font-size: 1.3rem;
            margin-bottom: 2rem;
            color: white;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .cta-button {
            display: inline-block;
            background: #ff1493;
            color: white;
            padding: 1rem 2rem;
            text-decoration: none;
            border-radius: 50px;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(255, 20, 147, 0.4);
        }

        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(255, 20, 147, 0.6);
        }

        .admin-controls {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .admin-btn {
            background: #ff1493;
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .admin-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 20, 147, 0.4);
        }

        .blog-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            padding: 2rem 0;
        }

        .blog-card {
            background: #111;
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 10px 30px rgba(255, 20, 147, 0.2);
            transition: all 0.3s ease;
            cursor: pointer;
            border: 2px solid rgba(255, 20, 147, 0.3);
            overflow: hidden;
            position: relative;
        }

        .blog-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: #ff1493;
        }

        .blog-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(255, 20, 147, 0.4);
            border-color: #ff1493;
        }

        .blog-card h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: #ff1493;
        }

        .blog-card .excerpt {
            color: white;
            margin-bottom: 1rem;
            line-height: 1.6;
        }

        .blog-card .date {
            color: #ccc;
            font-size: 0.9rem;
            font-weight: bold;
        }

        .blog-card .admin-actions {
            margin-top: 1rem;
            display: flex;
            gap: 0.5rem;
        }

        .blog-card .admin-actions button {
            background: transparent;
            border: 1px solid #ff1493;
            color: #ff1493;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .blog-card .admin-actions button:hover {
            background: #ff1493;
            color: white;
        }

        .blog-post {
            max-width: 800px;
            margin: 0 auto;
            background: #111;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(255, 20, 147, 0.2);
            border: 1px solid rgba(255, 20, 147, 0.3);
        }

        .blog-post h2 {
            text-align: left;
            margin-bottom: 0.5rem;
            color: #ff1493;
        }

        .blog-post .meta {
            color: #ccc;
            margin-bottom: 2rem;
            font-style: italic;
        }

        .blog-post p {
            margin-bottom: 1.5rem;
            color: white;
            line-height: 1.8;
        }

        .back-button {
            display: inline-block;
            background: #333;
            color: white;
            padding: 0.5rem 1rem;
            text-decoration: none;
            border-radius: 25px;
            margin-bottom: 2rem;
            transition: all 0.3s ease;
            border: 1px solid #ff1493;
        }

        .back-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 20, 147, 0.4);
            background: #ff1493;
        }

        .post-interactions {
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid rgba(255, 20, 147, 0.3);
        }

        .interaction-buttons {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .like-btn {
            background: transparent;
            border: 1px solid #ff1493;
            color: #ff1493;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .like-btn:hover, .like-btn.liked {
            background: #ff1493;
            color: white;
        }

        .comments-section {
            margin-top: 2rem;
        }

        .comments-section h4 {
            color: #ff1493;
            margin-bottom: 1rem;
        }

        .comment-form {
            margin-bottom: 2rem;
        }

        .comment-form textarea {
            width: 100%;
            background: #222;
            border: 1px solid #333;
            color: white;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            resize: vertical;
            min-height: 100px;
        }

        .comment-form textarea:focus {
            outline: none;
            border-color: #ff1493;
        }

        .comment-form button {
            background: #ff1493;
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .comment-form button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 20, 147, 0.4);
        }

        .comment {
            background: #222;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            border-left: 3px solid #ff1493;
        }

        .comment-author {
            color: #ff1493;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .comment-text {
            color: white;
            line-height: 1.6;
        }

        .comment-date {
            color: #ccc;
            font-size: 0.8rem;
            margin-top: 0.5rem;
        }

        .login-form, .post-form {
            max-width: 500px;
            margin: 2rem auto;
            background: #111;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(255, 20, 147, 0.2);
            border: 1px solid rgba(255, 20, 147, 0.3);
        }

        .contact-form {
            max-width: 600px;
            margin: 2rem auto;
            background: #111;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(255, 20, 147, 0.2);
            border: 1px solid rgba(255, 20, 147, 0.3);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
            color: #ff1493;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid #333;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
            background: #222;
            color: white;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #ff1493;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 120px;
        }

        .submit-button {
            background: #ff1493;
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(255, 20, 147, 0.4);
            width: 100%;
        }

        .submit-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 20, 147, 0.6);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
        }

        .modal.active {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: #111;
            padding: 2rem;
            border-radius: 15px;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            border: 1px solid rgba(255, 20, 147, 0.3);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .modal-header h3 {
            color: #ff1493;
        }

        .close-btn {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }

        .close-btn:hover {
            color: #ff1493;
        }

        @media (max-width: 768px) {
            .nav-links {
                flex-direction: column;
                gap: 1rem;
            }

            .logo {
                font-size: 1.2rem;
            }

            h1 {
                font-size: 2rem;
            }

            .blog-grid {
                grid-template-columns: 1fr;
            }

            .auth-section {
                flex-direction: column;
                gap: 0.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <nav>
                <div class="logo">Global Innovators Program</div>
                <ul class="nav-links">
                    <li><a href="#" onclick="showPage('home')" class="nav-link active">Home</a></li>
                    <li><a href="#" onclick="showPage('blog')" class="nav-link">Blog</a></li>
                    <li><a href="#" onclick="showPage('contact')" class="nav-link">Contact</a></li>
                </ul>
                <div class="auth-section">
                    <span class="user-info" id="userInfo">Not logged in</span>
                    <button class="auth-btn" id="authBtn" onclick="showLoginModal()">Login</button>
                </div>
            </nav>
        </header>

        <main>
            <!-- Homepage -->
            <div id="home" class="page active">
                <div class="hero">
                    <h1>Welcome to Global Innovators Program</h1>
                    <p>Discover amazing content, read our latest insights on innovation and technology, and connect with a global community of forward-thinking individuals shaping the future.</p>
                    <a href="#" onclick="showPage('blog')" class="cta-button">Explore Our Insights</a>
                </div>
            </div>

            <!-- Blog Page -->
            <div id="blog" class="page">
                <h2>Innovation Insights</h2>
                
                <!-- Admin Controls (only visible for admin) -->
                <div id="adminControls" class="admin-controls" style="display: none;">
                    <button class="admin-btn" onclick="showAddPostModal()">Add New Post</button>
                </div>

                <div class="blog-grid" id="blogGrid">
                    <!-- Blog posts will be dynamically loaded here -->
                </div>
            </div>

            <!-- Individual Blog Post Pages -->
            <div id="blogPostView" class="page">
                <div class="blog-post" id="blogPostContent">
                    <!-- Blog post content will be dynamically loaded here -->
                </div>
            </div>

            <!-- Contact Page -->
            <div id="contact" class="page">
                <h2>Get In Touch</h2>
                <div class="contact-form">
                    <div class="form-group">
                        <label for="name">Name</label>
                        <input type="text" id="name" name="name" required>
                    </div>
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="subject">Subject</label>
                        <input type="text" id="subject" name="subject" required>
                    </div>
                    <div class="form-group">
                        <label for="message">Message</label>
                        <textarea id="message" name="message" required></textarea>
                    </div>
                    <button type="button" class="submit-button" onclick="submitForm()">Send Message</button>
                </div>
            </div>
        </main>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Login</h3>
                <button class="close-btn" onclick="closeModal('loginModal')">&times;</button>
            </div>
            <div class="form-group">
                <label for="username">Username</label>
                <input type="text" id="username" placeholder="Enter username">
            </div>
            <div class="form-group">
                <label for="password">Password</label>
                <input type="password" id="password" placeholder="Enter password">
            </div>
            <button class="submit-button" onclick="login()">Login</button>
            <p style="color: #ccc; margin-top: 1rem; text-align: center; font-size: 0.9rem;">
                Demo: Use "admin" for admin access or any other username for viewer access
            </p>
        </div>
    </div>

    <!-- Add/Edit Post Modal -->
    <div id="postModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="postModalTitle">Add New Post</h3>
                <button class="close-btn" onclick="closeModal('postModal')">&times;</button>
            </div>
            <div class="form-group">
                <label for="postTitle">Title</label>
                <input type="text" id="postTitle" placeholder="Enter post title">
            </div>
            <div class="form-group">
                <label for="postExcerpt">Excerpt</label>
                <textarea id="postExcerpt" placeholder="Enter post excerpt" rows="3"></textarea>
            </div>
            <div class="form-group">
                <label for="postContent">Content</label>
                <textarea id="postContent" placeholder="Enter post content" rows="10"></textarea>
            </div>
            <button class="submit-button" onclick="savePost()">Save Post</button>
        </div>
    </div>

    <script>
        // Global state
        let currentUser = null;
        let isAdmin = false;
        let currentPostId = null;
        let blogPosts = [
            {
                id: 1,
                title: "The Future of Web Development",
                excerpt: "Explore the latest trends and technologies shaping the future of web development, from AI integration to progressive web apps.",
                content: "The web development landscape is evolving at an unprecedented pace. As we look toward the future, several key trends are emerging that will reshape how we build and interact with web applications.\n\nArtificial Intelligence is becoming increasingly integrated into development workflows, from code generation to automated testing. Machine learning algorithms are helping developers write more efficient code and catch bugs before they reach production.\n\nProgressive Web Apps (PWAs) continue to bridge the gap between web and native applications, offering users app-like experiences directly through their browsers. This technology is particularly important for businesses looking to reduce development costs while maintaining high-quality user experiences.\n\nThe rise of edge computing is also changing how we think about web architecture. By processing data closer to users, we can achieve faster response times and better performance, especially for global applications.",
                date: "March 15, 2024",
                likes: 12,
                comments: []
            },
            {
                id: 2,
                title: "Design Principles for Modern UX",
                excerpt: "Learn about the essential design principles that create exceptional user experiences in today's digital landscape.",
                content: "Creating exceptional user experiences requires a deep understanding of fundamental design principles that put users at the center of every decision.\n\nThe principle of simplicity cannot be overstated. Users should be able to accomplish their goals with minimal friction and confusion. This means prioritizing essential features and removing unnecessary complexity from interfaces.\n\nConsistency across all touchpoints builds trust and reduces cognitive load. When users learn how one part of your application works, they should be able to apply that knowledge throughout their entire experience.\n\nAccessibility is not just a legal requirement—it's a moral imperative that ensures your products can be used by everyone, regardless of their abilities or circumstances.",
                date: "March 10, 2024",
                likes: 8,
                comments: []
            },
            {
                id: 3,
                title: "Building Responsive Websites",
                excerpt: "A comprehensive guide to creating websites that work perfectly across all devices and screen sizes.",
                content: "In today's multi-device world, responsive design is essential for reaching users wherever they are and on whatever device they're using.\n\nThe foundation of responsive design lies in flexible layouts that adapt to different screen sizes. CSS Grid and Flexbox provide powerful tools for creating layouts that work seamlessly across devices.\n\nMedia queries allow us to apply specific styles based on device characteristics, but the key is to think mobile-first and progressively enhance for larger screens.\n\nPerformance considerations are crucial for responsive sites. Images should be optimized and served in appropriate sizes for different devices to ensure fast loading times across all platforms.",
                date: "March 5, 2024",
                likes: 15,
                comments: []
            }
        ];

        // Authentication functions
        function showLoginModal() {
            if (currentUser) {
                logout();
            } else {
                document.getElementById('loginModal').classList.add('active');
            }
        }

        function login() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            if (!username) {
                alert('Please enter a username');
                return;
            }

            currentUser = username;
            isAdmin = username.toLowerCase() === 'admin';
            
            updateAuthUI();
            closeModal('loginModal');
            
            // Clear form
            document.getElementById('username').value = '';
            document.getElementById('password').value = '';
            
            alert(`Welcome, ${currentUser}! ${isAdmin ? 'You have admin privileges.' : 'You can now like and comment on posts.'}`);
        }

        function logout() {
            currentUser = null;
            isAdmin = false;
            updateAuthUI();
            alert('You have been logged out.');
        }

        function updateAuthUI() {
            const userInfo = document.getElementById('userInfo');
            const authBtn = document.getElementById('authBtn');
            const adminControls = document.getElementById('adminControls');

            if (currentUser) {
                userInfo.textContent = `${currentUser} ${isAdmin ? '(Admin)' : '(Viewer)'}`;
                authBtn.textContent = 'Logout';
                if (isAdmin) {
                    adminControls.style.display = 'flex';
                }
            } else {
                userInfo.textContent = 'Not logged in';
                authBtn.textContent = 'Login';
                adminControls.style.display = 'none';
            }
        }

        // Modal functions
        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        // Blog post management
        function showAddPostModal() {
            if (!isAdmin) {
                alert('Admin access required');
                return;
            }
            
            document.getElementById('postModalTitle').textContent = 'Add New Post';
            document.getElementById('postTitle').value = '';
            document.getElementById('postExcerpt').value = '';
            document.getElementById('postContent').value = '';
            currentPostId = null;
            document.getElementById('postModal').classList.add('active');
        }

        function editPost(postId) {
            if (!isAdmin) {
                alert('Admin access required');
                return;
            }

            const post = blogPosts.find(p => p.id === postId);
            if (!post) return;

            document.getElementById('postModalTitle').textContent = 'Edit Post';
            document.getElementById('postTitle').value = post.title;
            document.getElementById('postExcerpt').value = post.excerpt;
            document.getElementById('postContent').value = post.content;
            currentPostId = postId;
            document.getElementById('postModal').classList.add('active');
        }

        function savePost() {
            const title = document.getElementById('postTitle').value;
            const excerpt = document.getElementById('postExcerpt').value;
            const content = document.getElementById('postContent').value;

            if (!title || !excerpt || !content) {
                alert('Please fill in all fields');
                return;
            }

            if (currentPostId) {
                // Edit existing post
                const post = blogPosts.find(p => p.id === currentPostId);
                if (post) {
                    post.title = title;
                    post.excerpt = excerpt;
                    post.content = content;
                }
            } else {
                // Add new post
                const newPost = {
                    id: Math.max(...blogPosts.map(p => p.id)) + 1,
                    title,
                    excerpt,
                    content,
                    date: new Date().toLocaleDateString('en-US', { 
                        year: 'numeric', 
                        month: 'long', 
                        day: 'numeric' 
                    }),
                    likes: 0,
                    comments: []
                };
                blogPosts.unshift(newPost);
            }

            renderBlogPosts();
            closeModal('postModal');
            alert(currentPostId ? 'Post updated successfully!' : 'Post added successfully!');
        }

        function deletePost(postId) {
            if (!isAdmin) {
                alert('Admin access required');
                return;
            }

            if (confirm('Are you sure you want to delete this post?')) {
                blogPosts = blogPosts.filter(p => p.id !== postId);
                renderBlogPosts();
                alert('Post deleted successfully!');
            }
        }

        function renderBlogPosts() {
            const blogGrid = document.getElementById('blogGrid');
            blogGrid.innerHTML = '';

            blogPosts.forEach(post => {
                const blogCard = document.createElement('div');
                blogCard.className = 'blog-card';
                blogCard.innerHTML = `
                    <h3>${post.title}</h3>
                    <p class="excerpt">${post.excerpt}</p>
                    <p class="date">${post.date}</p>
                    <div class="like-count" style="color: #ff1493; margin-top: 0.5rem; font-size: 0.9rem;">
                        ❤️ ${post.likes} likes • 💬 ${post.comments.length} comments
                    </div>
                    ${isAdmin ? `
                        <div class="admin-actions">
                            <button onclick="editPost(${post.id})">Edit</button>
                            <button onclick="deletePost(${post.id})">Delete</button>
                        </div>
                    ` : ''}
                `;
                
                blogCard.addEventListener('click', (e) => {
                    if (!e.target.matches('button')) {
                        showBlogPost(post.id);
                    }
                });
                
                blogGrid.appendChild(blogCard);
            });
        }

        function showBlogPost(postId) {
            const post = blogPosts.find(p => p.id === postId);
            if (!post) return;

            const blogPostContent = document.getElementById('blogPostContent');
            blogPostContent.innerHTML = `
                <a href="#" onclick="showPage('blog')" class="back-button">← Back to Blog</a>
                <h2>${post.title}</h2>
                <p class="meta">Published on ${post.date}</p>
                ${post.content.split('\n\n').map(paragraph => `<p>${paragraph}</p>`).join('')}
                
                <div class="post-interactions">
                    <div class="interaction-buttons">
                        <button class="like-btn ${post.likedBy && post.likedBy.includes(currentUser) ? 'liked' : ''}" 
                                onclick="toggleLike(${post.id})" 
                                ${!currentUser ? 'disabled title="Please login to like posts"' : ''}>
                            ❤️ ${post.likes} ${post.likes === 1 ? 'Like' : 'Likes'}
                        </button>
                    </div>
                    
                    <div class="comments-section">
                        <h4>Comments (${post.comments.length})</h4>
                        
                        ${currentUser ? `
                            <div class="comment-form">
                                <textarea id="commentText" placeholder="Write your comment here..."></textarea>
                                <button onclick="addComment(${post.id})">Post Comment</button>
                            </div>
                        ` : '<p style="color: #ccc; text-align: center;">Please login to comment</p>'}
                        
                        <div class="comments-list">
                            ${post.comments.map(comment => `
                                <div class="comment">
                                    <div class="comment-author">${comment.author}</div>
                                    <div class="comment-text">${comment.text}</div>
                                    <div class="comment-date">${comment.date}</div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `;

            // Hide all pages and show blog post view
            const pages = document.querySelectorAll('.page');
            pages.forEach(page => page.classList.remove('active'));
            document.getElementById('blogPostView').classList.add('active');
        }

        function toggleLike(postId) {
            if (!currentUser) {
                alert('Please login to like posts');
                return;
            }

            const post = blogPosts.find(p => p.id === postId);
            if (!post) return;

            if (!post.likedBy) post.likedBy = [];

            const userLikedIndex = post.likedBy.indexOf(currentUser);
            if (userLikedIndex > -1) {
                // Unlike
                post.likedBy.splice(userLikedIndex, 1);
                post.likes--;
            } else {
                // Like
                post.likedBy.push(currentUser);
                post.likes++;
            }

            // Refresh the current view
            showBlogPost(postId);
            renderBlogPosts(); // Update the blog grid as well
        }

        function addComment(postId) {
            if (!currentUser) {
                alert('Please login to comment');
                return;
            }

            const commentText = document.getElementById('commentText').value.trim();
            if (!commentText) {
                alert('Please enter a comment');
                return;
            }

            const post = blogPosts.find(p => p.id === postId);
            if (!post) return;

            const newComment = {
                id: Date.now(),
                author: currentUser,
                text: commentText,
                date: new Date().toLocaleDateString('en-US', { 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                })
            };

            post.comments.unshift(newComment);
            
            // Clear the comment form
            document.getElementById('commentText').value = '';
            
            // Refresh the post view
            showBlogPost(postId);
            renderBlogPosts(); // Update the blog grid comment count
        }

        // Page navigation
        function showPage(pageId) {
            // Hide all pages
            const pages = document.querySelectorAll('.page');
            pages.forEach(page => page.classList.remove('active'));
            
            // Show selected page
            document.getElementById(pageId).classList.add('active');
            
            // Update navigation
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => link.classList.remove('active'));
            
            // Add active class to clicked nav link
            if (event && event.target) {
                event.target.classList.add('active');
            }

            // If showing blog page, render posts
            if (pageId === 'blog') {
                renderBlogPosts();
            }
        }

        // Contact form
        function submitForm() {
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const subject = document.getElementById('subject').value;
            const message = document.getElementById('message').value;

            if (name && email && subject && message) {
                alert(`Thank you, ${name}! Your message has been sent. We'll get back to you at ${email} soon.`);
                // Reset form
                document.getElementById('name').value = '';
                document.getElementById('email').value = '';
                document.getElementById('subject').value = '';
                document.getElementById('message').value = '';
            } else {
                alert('Please fill in all fields before submitting.');
            }
        }

        // Close modals when clicking outside
        window.onclick = function(event) {
            const modals = document.querySelectorAll('.modal');
            modals.forEach(modal => {
                if (event.target === modal) {
                    modal.classList.remove('active');
                }
            });
        }

        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            renderBlogPosts();
            updateAuthUI();
        });
    </script>
</body>
</html>
